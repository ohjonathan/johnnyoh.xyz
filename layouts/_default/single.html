{{ define "main" }}
<article class="single-page">
  <header class="page-header">
    <h1 class="page-title">{{ .Title }}</h1>
    {{ with .Description }}
    <p class="page-description">{{ . }}</p>
    {{ end }}
    {{ if eq .Section "posts" }}
    <div class="page-meta">
      <time>{{ .Date.Format "January 2, 2006" }}</time>
      {{ with .Params.tags }}
      <span class="meta-separator">·</span>
      {{ range . }}<span class="tag">{{ . }}</span>{{ end }}
      {{ end }}
    </div>
    {{ else if or (eq .Section "roles") (eq .Section "jobs") }}
    {{ $roleID := or .Params.role_id .Params.job_id }}
    {{ $updateOfRoleID := or .Params.update_of_role_id .Params.update_of_job_id }}
    {{ $duplicateOfRoleID := or .Params.duplicate_of_role_id .Params.duplicate_of_job_id }}
    <div class="page-meta">
      <time>{{ .Date.Format "January 2, 2006" }}</time>
      {{ with $roleID }}
      <span class="meta-separator">·</span>
      <span class="tag">{{ . | upper }}</span>
      {{ end }}
      {{ with .Params.status }}
      <span class="meta-separator">·</span>
      <span class="tag">{{ . }}</span>
      {{ end }}
    </div>
    {{ if $updateOfRoleID }}
    <div class="page-meta">
      <span>Update of {{ $updateOfRoleID | upper }}</span>
    </div>
    {{ end }}
    {{ if $duplicateOfRoleID }}
    <div class="page-meta">
      <span>Duplicate of {{ $duplicateOfRoleID | upper }}</span>
    </div>
    {{ end }}
    {{ end }}
  </header>
  <div class="page-content">
    {{ .Content }}
  </div>
  {{ if eq .Section "posts" }}
  <nav class="post-nav">
    {{ with .PrevInSection }}
    <a href="{{ .Permalink }}" class="post-nav-link prev">← {{ .Title }}</a>
    {{ end }}
    {{ with .NextInSection }}
    <a href="{{ .Permalink }}" class="post-nav-link next">{{ .Title }} →</a>
    {{ end }}
  </nav>
  {{ end }}
</article>
{{ end }}
